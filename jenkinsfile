pipeline{
    agent any
    stages{
        stage('build'){
            steps{
                echo "building AutomationFramework.."
                bat "mvn clean"
                bat "dir /s allure-results"
            }
        }
        stage('clean'){
            step{
                echo "cleaning project.."
                bat "mvn clean"
            }
        }
        stage('test'){
            steps{
                echo "testing AutomationFramework.."
                bat "mvn test"
            }
        }
        stage('compile'){
            steps{
                echo "compiling AutomationFramework.."
                bat "mvn compile"
            }
        }
        stage('deploy'){
            steps{
                echo "deploying AutomationFramework.."
            }
        }
        stage('Generate Allure report'){
            steps{
                bat "mvn allure:report"
                allure includeProperties: false, jdk: '', results: [[path: 'allure-results']], commandline: 'allure'
            }
        }
    }
}